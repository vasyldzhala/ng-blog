<hr>
<div>
  <h5>Comments</h5>
  <p *ngIf="!comments.length">
    <small>No comments yet</small>
  </p>
  <div class="form-group" *ngFor="let comment of comments">
    <img
      class="author-image"
      src={{comment.commentator.image}}
      alt="comment.commentator.name"
      title={{comment.commentator.name}}
    >
    <strong>
      {{comment.commentator.name}},
      {{comment.date | date: 'M/d/yyyy, H:mm' }}:
    </strong>
    <span class="comment-text">
      {{comment.comment}}
    </span>
    <hr>
  </div>
</div>


<form *ngIf="userService.currentUser.email" novalidate [formGroup]="commentForm">
  <h5>Leave a comment</h5>
  <div class="form-group">
    <input
      class="form-control"
      type="text"
      formControlName="comment"
    >
  </div>
  <div class="form-group">
    <button
      class="btn btn-primary"
      [disabled]="commentForm.invalid"
      (click)="publishComment(commentForm, postKey)"
    >
      Publish
    </button>
  </div>
</form>

